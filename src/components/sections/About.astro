---
import GeometricIcon from '../ui/GeometricIcon.astro';
import Button from '../ui/Button.astro';
---

<section id="o-nas" class="about section-gradient-light py-20">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="max-w-6xl mx-auto">
      
      <!-- Section Header -->
      <div class="text-center mb-16">
        <h2 class="text-4xl md:text-5xl font-bold mb-6" style="color: var(--primary-dark);">
          O nas
        </h2>
        <p class="text-xl max-w-3xl mx-auto leading-relaxed" style="color: var(--neutral-dark);">
          Kompleksowy wykonawca wykończeń i instalacji z <strong>17-letnim doświadczeniem</strong>.<br>
          <strong>Własny zespół 20+ specjalistów</strong> we wszystkich branżach eliminuje problemy koordynacji.
        </p>
      </div>

      <!-- Main USPs Grid - 4 key advantages -->
      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-16">
        
        <!-- USP 1: Wizja lokalna -->
        <div class="text-center group cursor-pointer transition-all duration-300 hover:scale-105">
          <div class="mb-6">
            <GeometricIcon 
              shape="diamond" 
              icon="MapPin" 
              size="lg" 
              color="var(--primary-light)" 
            />
          </div>
          <h3 class="text-xl font-bold mb-3" style="color: var(--primary-dark);">
            1. Wizja lokalna
          </h3>
          <p class="text-sm font-semibold mb-2" style="color: var(--accent-orange);">
            Zawsze wymagana
          </p>
          <p class="text-sm leading-relaxed" style="color: var(--neutral-dark);">
            Cały zespół (elektryk, hydraulik, wykończenia) jednocześnie. Bezpłatnie.
          </p>
        </div>

        <!-- USP 2: Wycena 24h -->
        <div class="text-center group cursor-pointer transition-all duration-300 hover:scale-105">
          <div class="mb-6">
            <GeometricIcon 
              shape="hexagon" 
              icon="Clock" 
              size="lg" 
              color="var(--accent-orange)" 
            />
          </div>
          <h3 class="text-xl font-bold mb-3" style="color: var(--primary-dark);">
            2. Wycena w 24h
          </h3>
          <p class="text-sm font-semibold mb-2" style="color: var(--primary-light);">
            Szybka odpowiedź
          </p>
          <p class="text-sm leading-relaxed" style="color: var(--neutral-dark);">
            Szczegółowy breakdown kosztów. Bez ukrytych płatności. Jedna faktura.
          </p>
        </div>

        <!-- USP 3: Harmonogram i realizacja -->
        <div class="text-center group cursor-pointer transition-all duration-300 hover:scale-105">
          <div class="mb-6">
            <GeometricIcon 
              shape="triangle" 
              icon="Calendar" 
              size="lg" 
              color="var(--primary-dark)" 
            />
          </div>
          <h3 class="text-xl font-bold mb-3" style="color: var(--primary-dark);">
            3. Harmonogram i realizacja
          </h3>
          <p class="text-sm font-semibold mb-2" style="color: var(--primary-medium);">
            Dotrzymujemy terminów
          </p>
          <p class="text-sm leading-relaxed" style="color: var(--neutral-dark);">
            Dotrzymujemy terminów bo kontrolujemy cały proces. Jeden punkt kontaktu.
          </p>
        </div>

        <!-- USP 4: Gwarancja -->
        <div class="text-center group cursor-pointer transition-all duration-300 hover:scale-105">
          <div class="mb-6">
            <GeometricIcon 
              shape="pentagon" 
              icon="Shield" 
              size="lg" 
              color="var(--primary-medium)" 
            />
          </div>
          <h3 class="text-xl font-bold mb-3" style="color: var(--primary-dark);">
            4. Gwarancja 24 miesiące
          </h3>
          <p class="text-sm font-semibold mb-2" style="color: var(--primary-light);">
            Pełne zabezpieczenie
          </p>
          <p class="text-sm leading-relaxed" style="color: var(--neutral-dark);">
            17 lat doświadczenia = stabilny partner na lata. Serwis gwarancyjny.
          </p>
        </div>
      </div>

      <!-- CTA Section -->
      <div class="text-center mb-20">
        <div class="space-y-4 sm:space-y-0 sm:space-x-4 sm:flex sm:justify-center">
          <a 
            href="#kontakt" 
            class="btn-primary btn-lg inline-flex items-center gap-2 transition-all duration-300 hover:shadow-lg"
          >
            <GeometricIcon shape="triangle" icon="Calculator" size="sm" color="white" />
            Poproś o wycenę
          </a>
          <a 
            href="tel:+48123456789" 
            class="btn-secondary btn-lg inline-flex items-center gap-2 transition-all duration-300 hover:shadow-lg"
          >
            <GeometricIcon shape="circle" icon="Phone" size="sm" color="var(--primary-dark)" />
            Zadzwoń teraz
          </a>
        </div>
      </div>

      <!-- Stats Section - Clean separated layout -->
      <div class="text-center">
        <h3 class="text-2xl font-bold mb-8" style="color: var(--primary-dark);">
          PLANY w liczbach
        </h3>
        <div class="grid grid-cols-2 md:grid-cols-2 gap-8 max-w-lg mx-auto">
          
          <!-- Stat 1: Specialists -->
          <div class="text-center">
            <div class="flex flex-col items-center gap-3">
              <GeometricIcon 
                shape="hexagon" 
                icon="Users" 
                size="md" 
                color="var(--accent-orange)" 
              />
              <div>
                <div class="text-4xl font-bold mb-2" style="color: var(--accent-orange);">20+</div>
                <div class="text-sm font-medium" style="color: var(--neutral-dark);">Specjalistów</div>
              </div>
            </div>
          </div>

          <!-- Stat 2: Experience -->
          <div class="text-center">
            <div class="flex flex-col items-center gap-3">
              <GeometricIcon 
                shape="triangle" 
                icon="Award" 
                size="md" 
                color="var(--primary-dark)" 
              />
              <div>
                <div class="text-4xl font-bold mb-2" style="color: var(--primary-dark);">17</div>
                <div class="text-sm font-medium" style="color: var(--neutral-dark);">Lat doświadczenia</div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<style>
  .about {
    position: relative;
  }

  .about::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, #e2e8f0, transparent);
  }

  /* Enhanced hover effects for USP cards */
  .about .group:hover .geometric-icon-container {
    transform: scale(1.1) rotate(10deg);
  }

  .about .group:hover h3 {
    color: var(--primary-light) !important;
    transition: color 0.3s ease;
  }
</style>

<script type="module">
  function initAboutAnimations() {
    if (!window.gsap || !window.ScrollTrigger) return;

    gsap.registerPlugin(ScrollTrigger);

    // Check for reduced motion preference
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    if (prefersReducedMotion) {
      gsap.set('.about [class*="grid"] > div', { opacity: 1, y: 0, scale: 1 });
      return;
    }

    // Animate USP cards on scroll
    gsap.fromTo('.about .grid > div', 
      {
        opacity: 0,
        y: 40,
        scale: 0.9
      },
      {
        opacity: 1,
        y: 0,
        scale: 1,
        duration: 0.7,
        stagger: 0.15,
        ease: 'power2.out',
        scrollTrigger: {
          trigger: '.about .grid',
          start: 'top 80%',
          toggleActions: 'play none none reverse'
        }
      }
    );

    // Animate CTAs with special attention
    gsap.fromTo('.about .btn-primary, .about .btn-secondary', 
      {
        opacity: 0,
        scale: 0.8,
        y: 20
      },
      {
        opacity: 1,
        scale: 1,
        y: 0,
        duration: 0.6,
        stagger: 0.1,
        ease: 'back.out(1.2)',
        scrollTrigger: {
          trigger: '.about .btn-primary',
          start: 'top 85%',
          toggleActions: 'play none none reverse'
        }
      }
    );
  }

  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initAboutAnimations);
  } else {
    initAboutAnimations();
  }
</script>