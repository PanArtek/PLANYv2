---
import Button from '../ui/Button.astro';
---

<section class="hero relative overflow-hidden min-h-screen flex items-center" id="home">
  <!-- Simple Hero Background -->
  <div class="hero-background absolute inset-0 pointer-events-none">
    <!-- Gradient Background -->
    <div class="absolute inset-0 bg-gradient-dark opacity-95"></div>
    <div class="absolute inset-0 bg-gradient-primary opacity-20"></div>
    
    <!-- Simple Background Particles -->
    <div class="particle-container absolute inset-0">
      <div class="particle particle-1"></div>
      <div class="particle particle-2"></div>
      <div class="particle particle-3"></div>
      <div class="particle particle-4"></div>
      <div class="particle particle-5"></div>
    </div>

    <!-- Decorative elements -->
    <div class="parallax-decoration absolute inset-0">
      <div class="decoration-1 absolute top-20 left-10 w-2 h-2 bg-purple-500 rounded-full opacity-60"></div>
      <div class="decoration-2 absolute top-40 right-20 w-1 h-1 bg-blue-400 rounded-full opacity-40"></div>
      <div class="decoration-3 absolute bottom-32 left-20 w-3 h-3 bg-purple-600 rounded-full opacity-30"></div>
      <div class="decoration-4 absolute bottom-20 right-32 w-1.5 h-1.5 bg-blue-500 rounded-full opacity-50"></div>
    </div>
  </div>

  <!-- Hero Content -->
  <div class="container mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
    <div class="max-w-4xl mx-auto text-center">
      <h1 class="hero-title text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-bold text-white mb-6 leading-tight drop-shadow-2xl">
        <span class="block text-yellow-400">PLANY</span>
        <span class="block text-blue-400">projekty przyszłości</span>
        <span class="block text-lg sm:text-xl md:text-2xl lg:text-3xl font-normal text-white mt-2">architektura • planowanie • realizacja</span>
      </h1>
      
      <p class="hero-subtitle text-lg sm:text-xl lg:text-2xl text-white mb-8 sm:mb-10 max-w-3xl mx-auto leading-relaxed px-4 sm:px-0 drop-shadow-lg font-medium">
        <span class="text-blue-300">Nowoczesne projekty architektoniczne</span> • 
        <span class="text-yellow-300">Kompleksowe planowanie</span> • 
        <span class="text-green-300">Realizacje w całej Polsce</span>
      </p>
      
      <div class="hero-cta flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center items-center px-4 sm:px-0">
        <button class="btn btn-primary text-lg px-10 py-4 w-full sm:w-auto shadow-2xl font-bold">
          <span class="relative z-10">Otrzymaj wycenę</span>
        </button>
        <button class="btn btn-secondary text-lg px-10 py-4 w-full sm:w-auto shadow-2xl font-bold">
          <span class="relative z-10">Zobacz projekty</span>
        </button>
      </div>
      
      <!-- Trust indicators -->
      <div class="hero-trust flex flex-wrap justify-center items-center gap-4 sm:gap-6 lg:gap-8 mt-8 sm:mt-12 pt-6 sm:pt-8 border-t border-white/20 mx-4 sm:mx-0">
        <div class="trust-item text-center">
          <div class="text-xl sm:text-2xl font-bold text-yellow-400">20+</div>
          <div class="text-xs sm:text-sm text-white/80">Projektantów</div>
        </div>
        <div class="trust-item text-center">
          <div class="text-xl sm:text-2xl font-bold text-blue-400">150+</div>
          <div class="text-xs sm:text-sm text-white/80">Realizacji</div>
        </div>
        <div class="trust-item text-center">
          <div class="text-xl sm:text-2xl font-bold text-green-400">10+</div>
          <div class="text-xs sm:text-sm text-white/80">lat doświadczenia</div>
        </div>
        <div class="trust-item text-center">
          <div class="text-xl sm:text-2xl font-bold text-purple-400">Cała</div>
          <div class="text-xs sm:text-sm text-white/80">Polska</div>
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .hero {
    position: relative;
    background: var(--gradient-dark);
    min-height: 100vh;
    padding-top: 6rem; /* Add space for fixed navigation */
  }

  /* Simple Particle Animation */
  .particle-container {
    opacity: 0.6;
  }
  
  .particle {
    position: absolute;
    width: 8px;
    height: 8px;
    background: linear-gradient(45deg, #7234fa, #334464);
    border-radius: 50%;
    opacity: 0;
    transform: scale(0);
  }
  
  .particle-1 {
    top: 20%;
    left: 10%;
    animation: float 4s ease-in-out infinite;
  }
  
  .particle-2 {
    top: 40%;
    right: 15%;
    animation: float 5s ease-in-out infinite -1s;
  }
  
  .particle-3 {
    bottom: 30%;
    left: 20%;
    animation: float 6s ease-in-out infinite -2s;
  }
  
  .particle-4 {
    top: 60%;
    right: 30%;
    animation: float 4.5s ease-in-out infinite -3s;
  }
  
  .particle-5 {
    bottom: 20%;
    right: 40%;
    animation: float 5.5s ease-in-out infinite -1.5s;
  }

  /* Floating decorations */
  .decoration-1,
  .decoration-2,
  .decoration-3,
  .decoration-4 {
    animation: float 3s ease-in-out infinite;
  }

  .decoration-2 {
    animation-delay: -1s;
  }

  .decoration-3 {
    animation-delay: -2s;
  }

  .decoration-4 {
    animation-delay: -1.5s;
  }

  /* Trust indicators styling */
  .trust-item {
    min-width: 80px;
  }

  /* Responsive adjustments */
  @media (max-width: 640px) {
    .hero {
      padding-top: 5rem;
    }
    
    .trust-item {
      min-width: 60px;
    }
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .particle,
    .decoration-1,
    .decoration-2,
    .decoration-3,
    .decoration-4 {
      animation: none;
    }
  }
</style>

<script type="module">
  function initHeroAnimations() {
    // Simple entrance animations without complex SVG
    if (!window.gsap) return;

    const tl = gsap.timeline({ delay: 0.2 });

    // 1. Set initial states
    gsap.set(['.hero-title', '.hero-subtitle', '.hero-cta', '.hero-trust'], {
      autoAlpha: 0,
      y: 50,
      force3D: true
    });

    gsap.set('.particle', {
      autoAlpha: 0,
      scale: 0,
      force3D: true
    });

    // 2. Simple particle animation
    const particles = document.querySelectorAll('.particle');
    if (particles.length > 0) {
      particles.forEach((particle, index) => {
        tl.to(particle, {
          duration: 0.6,
          autoAlpha: 1,
          scale: 1,
          ease: 'power2.out'
        }, index * 0.1);
      });
    }

    // 3. Content animation sequence
    tl.to('.hero-title', {
      duration: 0.6,
      autoAlpha: 1,
      y: 0,
      ease: 'power2.out',
      force3D: true
    }, '-=0.4')
    .to('.hero-subtitle', {
      duration: 0.5,
      autoAlpha: 1,
      y: 0,
      ease: 'power2.out',
      force3D: true
    }, '-=0.3')
    .to('.hero-cta', {
      duration: 0.4,
      autoAlpha: 1,
      y: 0,
      ease: 'power2.out',
      force3D: true
    }, '-=0.2')
    .to('.hero-trust', {
      duration: 0.4,
      autoAlpha: 1,
      y: 0,
      ease: 'power2.out',
      force3D: true
    }, '-=0.1');

    // 4. Continuous floating animation for decorations
    const decorations = document.querySelectorAll('.parallax-decoration > div');
    decorations.forEach((decoration, index) => {
      gsap.to(decoration, {
        y: '+=10',
        duration: 2 + index * 0.5,
        repeat: -1,
        yoyo: true,
        ease: 'power2.inOut',
        delay: index * 0.2
      });
    });
  }

  // Initialize when DOM is ready
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initHeroAnimations);
  } else {
    initHeroAnimations();
  }
</script>