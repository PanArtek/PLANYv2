---
import Icon from '../ui/Icon.astro';
import Card from '../ui/Card.astro';
---

<section class="contact py-20 bg-white" id="kontakt">
  <div class="container mx-auto px-4 sm:px-6 lg:px-8">
    <div class="max-w-6xl mx-auto">
      <!-- Section Header -->
      <div class="contact-header text-center mb-16">
        <h2 class="text-4xl lg:text-5xl font-bold" style="color: var(--primary-dark);">
          Skontaktuj się z <span style="color: var(--primary-light);">nami</span>
        </h2>
        <p class="text-xl max-w-3xl mx-auto leading-relaxed" style="color: var(--neutral-dark);">
          Własny zespół 20+ specjalistów - jeden telefon załatwia sprawę. 
          Odpowiemy w ciągu 24 godzin z bezpłatną wyceną.
        </p>
      </div>

      <div class="grid lg:grid-cols-2 gap-12 items-start">
        <!-- Company Info -->
        <div class="company-info">
          <Card variant="contact" clipPath="corner-cut" padding="lg" class="rounded-2xl" style="background: var(--primary-light);">
            <h3 class="text-2xl font-semibold mb-6" style="color: var(--primary-dark);">PLANY</h3>
            <div class="space-y-4">
              <p class="text-lg leading-relaxed" style="color: var(--primary-dark);">
                <strong>Kompleksowy wykonawca wykończeń i instalacji</strong><br>
                Własny zespół 20+ specjalistów eliminuje problemy koordynacji.<br>
                17 lat doświadczenia w wykończeniach komercyjnych.
              </p>
              
              <div class="space-y-3 pt-4">
                <div class="flex items-center gap-3">
                  <div class="w-6 h-6 geometric-hexagon" style="background: var(--primary-dark);"></div>
                  <span style="color: var(--primary-dark); font-weight: 500;">Realizacje 100-5000m² w całej Polsce</span>
                </div>
                <div class="flex items-center gap-3">
                  <div class="w-6 h-6 geometric-triangle" style="background: var(--accent-orange);"></div>
                  <span style="color: var(--primary-dark); font-weight: 500;">Zarządcy nieruchomości • Kliniki • Szkoły • Biura</span>
                </div>
              </div>
            </div>
          </Card>
        </div>

        <!-- Contact Information -->
        <div class="contact-info space-y-8">
          <!-- Direct Contact -->
          <Card variant="contact" clipPath="angled-cut" padding="lg" class="rounded-2xl" style="background: var(--white); border: 2px solid var(--primary-medium);">
            <h3 class="text-2xl font-semibold mb-6" style="color: var(--primary-dark);">Jeden telefon załatwia sprawę</h3>
            
            <div class="space-y-6">
              <div class="contact-item flex items-start gap-4">
                <div class="w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0" style="background: var(--primary-dark);">
                  <Icon name="Phone" class="w-6 h-6 text-white" />
                </div>
                <div>
                  <h4 class="text-lg font-medium mb-1" style="color: var(--primary-dark);">Telefon</h4>
                  <a href="tel:+48123456789" class="text-xl font-semibold transition-colors" style="color: var(--accent-orange);">
                    +48 123 456 789
                  </a>
                  <p class="text-sm mt-1" style="color: var(--neutral-dark);">Pon-Pt: 8:00-18:00</p>
                  <p class="text-sm" style="color: var(--neutral-dark);">Bezpłatna wycena w 24h</p>
                </div>
              </div>

              <div class="contact-item flex items-start gap-4">
                <div class="w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0" style="background: var(--primary-dark);">
                  <Icon name="Mail" class="w-6 h-6 text-white" />
                </div>
                <div>
                  <h4 class="text-lg font-medium mb-1" style="color: var(--primary-dark);">Email</h4>
                  <a href="mailto:kontakt@plany.pl" class="text-lg font-semibold transition-colors" style="color: var(--accent-orange);">
                    kontakt@plany.pl
                  </a>
                  <p class="text-sm mt-1" style="color: var(--neutral-dark);">Odpowiadamy w 24h</p>
                </div>
              </div>

              <div class="contact-item flex items-start gap-4">
                <div class="w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0" style="background: var(--primary-dark);">
                  <Icon name="MapPin" class="w-6 h-6 text-white" />
                </div>
                <div>
                  <h4 class="text-lg font-medium mb-1" style="color: var(--primary-dark);">Zasięg</h4>
                  <p class="text-lg font-semibold" style="color: var(--primary-dark);">Cała Polska</p>
                  <p class="text-sm mt-1" style="color: var(--neutral-dark);">Realizacje 100-5000m²</p>
                  <p class="text-sm" style="color: var(--neutral-dark);">Wizja lokalna bezpłatna</p>
                </div>
              </div>
            </div>
          </Card>

          <!-- Process Steps -->
          <Card variant="contact" clipPath="diamond" padding="lg" class="rounded-2xl" style="background: var(--neutral-light);">
            <h3 class="text-2xl font-semibold mb-6" style="color: var(--primary-dark);">Eliminujemy chaos koordynacji</h3>
            
            <div class="space-y-6">
              <div class="process-step flex items-start gap-4">
                <div class="w-8 h-8 text-white rounded-full flex items-center justify-center text-sm font-semibold flex-shrink-0" style="background: var(--primary-dark);">
                  1
                </div>
                <div>
                  <h4 class="font-medium mb-1" style="color: var(--primary-dark);">Wizja lokalna</h4>
                  <p class="text-sm" style="color: var(--neutral-dark);">Cały zespół (elektryk, hydraulik, wykończenia) jednocześnie. Bezpłatnie.</p>
                </div>
              </div>

              <div class="process-step flex items-start gap-4">
                <div class="w-8 h-8 text-white rounded-full flex items-center justify-center text-sm font-semibold flex-shrink-0" style="background: var(--primary-dark);">
                  2
                </div>
                <div>
                  <h4 class="font-medium mb-1" style="color: var(--primary-dark);">Wycena w 24h</h4>
                  <p class="text-sm" style="color: var(--neutral-dark);">Szczegółowy breakdown kosztów. Bez ukrytych płatności. Jedna faktura.</p>
                </div>
              </div>

              <div class="process-step flex items-start gap-4">
                <div class="w-8 h-8 text-white rounded-full flex items-center justify-center text-sm font-semibold flex-shrink-0" style="background: var(--primary-dark);">
                  3
                </div>
                <div>
                  <h4 class="font-medium mb-1" style="color: var(--primary-dark);">Harmonogram i realizacja</h4>
                  <p class="text-sm" style="color: var(--neutral-dark);">Dotrzymujemy terminów bo kontrolujemy cały proces. Jeden punkt kontaktu.</p>
                </div>
              </div>

              <div class="process-step flex items-start gap-4">
                <div class="w-8 h-8 text-white rounded-full flex items-center justify-center text-sm font-semibold flex-shrink-0" style="background: var(--primary-dark);">
                  4
                </div>
                <div>
                  <h4 class="font-medium mb-1" style="color: var(--primary-dark);">Gwarancja 24 miesiące</h4>
                  <p class="text-sm" style="color: var(--neutral-dark);">17 lat doświadczenia = stabilny partner na lata. Serwis gwarancyjny.</p>
                </div>
              </div>
            </div>
          </Card>

          <!-- Trust Indicators -->
          <div class="trust-indicators grid grid-cols-2 gap-4">
            <Card variant="geometric" clipPath="hexagon" padding="md" class="trust-item text-center rounded-lg" style="background: var(--white); border: 2px solid var(--primary-medium);">
              <div class="text-2xl font-bold mb-1" style="color: var(--accent-orange);">20+</div>
              <div class="text-sm" style="color: var(--neutral-dark);">Specjalistów</div>
            </Card>
            <Card variant="geometric" clipPath="pentagon" padding="md" class="trust-item text-center rounded-lg" style="background: var(--white); border: 2px solid var(--primary-medium);">
              <div class="text-2xl font-bold mb-1" style="color: var(--accent-orange);">17</div>
              <div class="text-sm" style="color: var(--neutral-dark);">Lat doświadczenia</div>
            </Card>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


<style>
  .contact-item {
    animation: slideInUp 0.6s ease-out both;
  }

  .contact-item:nth-child(1) { animation-delay: 0.1s; }
  .contact-item:nth-child(2) { animation-delay: 0.2s; }
  .contact-item:nth-child(3) { animation-delay: 0.3s; }

  .process-step {
    animation: slideInUp 0.6s ease-out both;
  }

  .process-step:nth-child(1) { animation-delay: 0.1s; }
  .process-step:nth-child(2) { animation-delay: 0.2s; }
  .process-step:nth-child(3) { animation-delay: 0.3s; }
  .process-step:nth-child(4) { animation-delay: 0.4s; }

  @keyframes slideInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Reduced motion fallback */
  @media (prefers-reduced-motion: reduce) {
    .contact-item,
    .process-step {
      animation: none !important;
    }
  }
</style>

<script type="module">
  function initContactAnimations() {
    if (!window.gsap || !window.ScrollTrigger) return;
    
    gsap.registerPlugin(ScrollTrigger);
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    
    if (prefersReducedMotion) {
      return;
    }

    // Animate contact header
    gsap.fromTo('.contact-header', 
      { opacity: 0, y: 30 },
      {
        opacity: 1,
        y: 0,
        duration: 0.8,
        ease: 'power2.out',
        scrollTrigger: {
          trigger: '.contact-header',
          start: 'top 80%'
        }
      }
    );

    // Animate company info and contact info
    gsap.fromTo('.company-info, .contact-info > div', 
      { opacity: 0, y: 30 },
      {
        opacity: 1,
        y: 0,
        duration: 0.8,
        ease: 'power2.out',
        stagger: 0.2,
        scrollTrigger: {
          trigger: '.company-info',
          start: 'top 70%'
        }
      }
    );
  }

  // Initialize when DOM is ready
  function init() {
    initContactAnimations();
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', init);
  } else {
    init();
  }
</script>